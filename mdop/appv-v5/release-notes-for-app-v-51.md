---
title: App-V 5.1 のリリース ノート
description: App-V 5.1 のリリース ノート
author: dansimp
ms.assetid: 62c5be3b-0a46-4512-93ed-97c23184f343
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 09/26/2016
ms.openlocfilehash: 7437a16bc10b21bb15b0f8307c2711177e78cb72
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "10813307"
---
# App-V 5.1 のリリース ノート


Microsoft Application Virtualization (App-v) 5.1 の既知の問題を以下に示します。

## Windows 10 で App-v 5.0 SP3 Management Server と App-v 5.1 クライアントの間での公開更新中にエラーが発生する


アプリ-V 5.0 SP3 management サーバーから Windows 10 の App-v 5.1 クライアントにパッケージを同期すると、公開の更新中にエラーが生成されます。 このエラーは、発行 URL で指定された Windows 10 オペレーティングシステムがアプリ-V 5.0 SP3 サーバーによって認識されないために発生します。 この問題は、App-v 5.1 公開サーバーでは修正されていますが、backported のバージョンでは5.0 使用できません。

**対応策**: App-v 5.0 management server を、Windows 10 クライアント用の App-v 5.1 management server にアップグレードしてください。

## カスタム構成は、グローバルに公開されるパッケージ (app-v 5.1 サーバーを使用して設定されている場合) には適用されません。


マシンアカウントが含まれている広告グループにパッケージを割り当て、そのグループにカスタム構成を適用する場合は、カスタム構成はこれらのコンピューターに適用されません。 App-v 5.1 クライアントは、コンピューターアカウントに割り当てられているパッケージをグローバルに公開します。 ただし、各ユーザーのプロファイルにユーザーごとのカスタム構成ファイルが格納されます。 グローバルに公開されたパッケージには、このカスタム構成へのアクセス権がありません。

**回避策**: 次のいずれかの操作を行います。

-   ユーザーアカウントのみを含むグループにパッケージを割り当てます。 これにより、パッケージのカスタム構成が各ユーザーのプロファイルに保存され、適切に適用されるようになります。

-   カスタム展開構成ファイルを作成し、– DynamicDeploymentConfiguration パラメーターを指定して AppvClientPackage コマンドレットを使用し、クライアントのパッケージに適用します。 詳細については[、「app-v 5.1 の動的構成につい](about-app-v-51-dynamic-configuration.md)て」を参照してください。

-   App-v 5.1 Sequencer を使用して、カスタム構成で新しいパッケージを作成します。

## 新しい App-v 5.1 Server をインストールした後に、サーバーファイルが削除されない


App-v 5.0 SP1 サーバーをアンインストールして、App-v 5.1 サーバーをインストールした場合、インストールが失敗し、不適切なバージョンの管理サーバーがインストールされ、エラーメッセージが表示されます。 この問題は、App-v 5.0 SP1 をアンインストールするときにサーバーファイルが削除されないために発生します。そのため、インストールプロセスでは、新しいインストールの代わりにアップグレードが行われます。

**回避策**: app-v 5.1 のインストールを開始する前に、このレジストリキーを削除します。

[HKEY \ _LOCAL \ _MACHINE \\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall] の下で、値データ "Microsoft Application Virtualization (App-v) Server" を使用して、DWORD 値 "DisplayName" を含むインストール GUID キーを見つけて削除します。 これは、削除する必要があるキーのみです。

## 手動で追加したファイルの種類の関連付けが正しく保存されない


アプリケーションパッケージに手動で追加したファイルの種類の関連付けは、アプリケーションアップグレードウィザードの終了時に [ショートカット] タブと [FTAs] タブを使って適切に保存されません。 保存されているパッケージをもう一度更新したときに、App-v クライアントまたは Sequencer にそれらのアプリを表示することはできません。

**回避策**: ファイルの種類の関連付けを追加するには、変更するパッケージを開いて、更新ウィザードを実行します。 インストール手順で、オペレーティングシステムを使用して新しいファイルの種類の関連付けを追加します。 Sequencer は、システムレジストリ内の新しい関連付けを検出し、それをパッケージの仮想レジストリに追加します。この場所でクライアントが利用できるようになります。

## AppLocker でも管理されているクライアントに共有コンテンツストア (SCS) モードでパッケージをストリーミングすると、追加のデータがローカルディスクに書き込まれます。


クライアントのローカルディスクに書き込まれるデータの量を減らすために、アプリ-V 5.1 クライアントで SCS モードを有効にして、パッケージの内容をオンデマンドでストリーミングすることができます。 ただし、AppLocker がパッケージ内のアプリケーションを管理している場合、一部のデータはクライアントのローカルディスクに書き込まれ、それ以外の書き込みは行われません。

**回避策**: なし

## 管理コンソールの [パッケージの追加] ダイアログボックスで、Chrome または Firefox を使用している場合、[参照] ボタンは使用できません。


管理コンソールの [パッケージ] ページで、右下隅にある [**追加] または [アップグレード**] をクリックすると、[**パッケージの追加**] ダイアログボックスが表示されます。 ブラウザーとして Chrome または Firefox を使用して管理コンソールにアクセスしている場合は、パッケージの場所を参照できません。

**回避策**: パッケージへのパスを入力するか、コピーして、[**パッケージの追加**] 入力フィールドに貼り付けます。 管理コンソールにこのパスへのアクセス権がある場合は、パッケージを追加できます。 パッケージがネットワーク共有上にある場合は、次の手順に従って、エクスプローラーを使用して場所を参照できます。

1.  **Shift**キーを押しながらパッケージファイルを右クリックします。

2.  [**パスとしてコピー** ] を選ぶ

3.  [**パッケージの追加**] ダイアログボックスの入力フィールドにパスを貼り付けます。

## <a href="" id="upgrading-app-v-management-server-to-5-1-sometimes-fails-with-the-message--a-database-error-occurred-"></a>App-v 管理サーバーを5.1 にアップグレードすると、"データベースエラーが発生しました" というメッセージが表示される場合がある


App-v 5.0 SP1 Management Server をインストールしてから、複数の接続グループが構成されて有効になっているときに、App-v 5.1 サーバーにアップグレードしようとすると、次のエラーが表示されます。 "データベースエラーが発生しました。 理由: ' 無効な列名 ' PackageOptional '。 列名 ' VersionOptional "が無効です。

**回避策**: SQL データベースで次のコマンドを実行します。

`ALTER TABLE AppVManagement.dbo.PackageGroupMembers ADD PackageOptional bit NOT NULL DEFAULT 0, VersionOptional bit NOT NULL DEFAULT 0`

ここで、"AppVManagement" はデータベースの名前です。

## 省略可能なパッケージを追加または削除すると、ユーザーによって公開された接続グループでパッケージを開くことができない


RDS クライアントを実行している環境、またはコンピューターに複数のユーザーが同時に接続している環境では、ログインしたユーザーは、オプションのパッケージが接続グループに追加または削除された場合に、ユーザーによって公開された接続グループ内のパッケージのアプリケーションを開くことはできません。

**回避策**: ユーザーにログアウトしてから、もう一度ログインします。

## 接続グループがユーザーに対してのみ公開されているときに、誤ってエラーメッセージが表示される


AppvClientConnectionGroup を実行すると、接続グループがユーザーに対してのみ公開されている場合でも、次のエラーが表示されます。 "内部アプリ-V 統合エラー: パッケージは、ユーザーに対して統合されていません。" パッケージがコンピューターに追加され、ユーザーに公開されていることを確認してください。

**回避策**: 次のいずれかの操作を行います。

-   接続グループ内のすべてのパッケージを公開します。

    この問題は、修復される接続グループに、存在しないか、ユーザーが使用できない (つまり、グローバルでもユーザーに公開されていない) パッケージが含まれている場合に発生します。 ただし、すべての接続グループのパッケージが利用できる場合は、すべてのパッケージが公開されていることを確認して、修復を行うことができます。

-   Repair-AppvClientConnectionGroup コマンドではなく、AppvClientPackage コマンドを使用して、パッケージを個別に修復します。

    ユーザーが利用できるパッケージを特定し、各パッケージで AppvClientPackage コマンドを1回実行します。 PowerShell コマンドレットを使用して、次の操作を行います。

    1.  接続グループ内のすべてのパッケージを取得します。

    2.  各パッケージが現在公開されているかどうかを確認します。

    3.  パッケージが現在公開されている場合は、そのパッケージで AppvClientPackage を実行します。

## Sequencer で正しく表示されないアイコン


アプリでパッケージを変更すると、[ショートカット] タブと [ファイルの種類の関連付け] タブのアイコンが正しく表示されません。 この問題は、アイコンのサイズが16x16 または32x32 ではない場合に発生します。

**回避策**: アイコンの16x16 または32x32 のアイコンのみを使用します。

## InsertVersionInfo スクリプトが管理データベースに必要なくなりました


InsertVersionInfo スクリプトは、アプリ-V 5.0 SP3 より後のバージョンの App-v 管理データベースでは必要ありません。

アクセス許可の sql スクリプトは、[サポート技術情報の記事 3031340](https://support.microsoft.com/kb/3031340)の**手順 2**に従って更新する必要があります。

**重要** 
App-v 5.0 SP3 より後のバージョンの App-v では、**手順 1**は必要ありません。

 

## Microsoft Visual Studio 2012 はサポートされていません


App-v 5.1 は Visual Studio 2012 をサポートしていません。

**回避策**: なし

## アプリケーションファイル名の制限 (app-v)


App-v Sequencer は、"CO_ x" と一致するファイル名を使ったアプリケーションのシーケンスを行うことはできません &lt; &gt; 。 x は任意の数字です。 エラー0x8007139F が生成されます。

**回避策**: 別のファイル名を使用してください。

## パッケージのマウント時に "ファイルが見つかりません" というエラーが断続的に表示される


パッケージをマウントするときに、"ファイルが見つかりませんでした" (0x80070002) エラーが生成されることがあります。 通常、このエラーは、App-v パッケージ内のフォルダーに多くのファイル (20K など) が含まれている場合に発生します。 これにより、ストリーミングに予想以上に時間がかかり、"ファイルが見つかりません" というエラーが生成されます。

**回避策**: HF06 以降では、新しいレジストリキーが導入され、この期間を延長できるようになりました。

<table>
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody>
<tr>
<td align="left">パス</td>
<td align="left">HKEY_LOCAL_MACHINE \SOFTWARE\Microsoft\AppV\Client\Streaming</td>
</tr>
<tr>
<td align="left">設定</td>
<td align="left">StreamResponseWaitTimeout</td>
</tr>
<tr>
<td align="left">DataType</td>
<td align="left">DWORD</td>
</tr>
<tr>
<td align="left">数量</td>
<td align="left">間隔</td>
</tr>
<tr>
<td align="left">既定値</td>
<td align="left">個<br />
<strong>注 </strong> : この値は、レジストリキーが定義されていない場合、または値 = 5 が指定されている場合に既定になり &lt; ます。
</td>
</tr>
</tbody>
</table>






## 関連トピック


[App-V 5.1 について](about-app-v-51.md)

 

 





