---
title: Dynamic Suite Composition を使用する方法
description: Dynamic Suite Composition を使用する方法
author: dansimp
ms.assetid: 24147feb-a0a8-4791-a8e5-cbe5fe13c762
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 3bff4c9721352785cf6db5c497234ceaa3c5e448
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/26/2020
ms.locfileid: "10816417"
---
# Dynamic Suite Composition を使用する方法


Application Virtualization の動的なスイートコンポジションを使用すると、ミドルウェアやプラグインなどの別のアプリケーションに依存するようにアプリケーションを定義できます。 これにより、アプリケーションは仮想環境内のミドルウェアまたはプラグインを操作することができます。これは、通常は禁止されています。 これは、*プライマリアプリケーションと*呼ばれる他のいくつかのアプリケーションと共にセカンダリアプリケーションパッケージを使用して、各プライマリアプリケーションが同じセカンダリパッケージを参照できるようにするために役立ちます。

動的スイートコンポジションは、ActiveX コントロールなどのプラグインに依存するアプリケーションや、OLE DB や Java Runtime Environment (JRE) などのミドルウェアに依存するアプリケーションに対しても使用できます。 これらの依存コンポーネントを使用した各アプリケーションで、コンポーネントなどの順序指定が必要である場合、これらのコンポーネントの更新には、すべてのプライマリアプリケーションの順序を再適用する必要があります。 コンポーネントを使わずにプライマリアプリケーションをシーケンスして、ミドルウェアまたはプラグインをセカンダリパッケージとしてシーケンスする場合は、セカンダリパッケージのみを更新する必要があります。

この方法の1つの利点は、プライマリパッケージのサイズが小さくなることです。 もう1つの利点は、セカンダリアプリケーションに対するアクセス許可をより適切に制御できることです。 セカンダリアプリケーションは、通常の方法でストリーミングできます。また、実行するために完全にキャッシュする必要はありません。

プライマリパッケージには、複数のセカンダリパッケージを含めることができます。 ただし、依存関係のレベルは1つしかサポートされていないため、セカンダリパッケージを別のセカンダリパッケージに依存するように定義することはできません。 また、セカンダリアプリケーションは、ミドルウェアまたはプラグインとしてのみ使用できます。また、その他の完全なソフトウェア製品にすることはできません。

複数の主要なアプリケーションを1つのミドルウェア製品に依存することを計画している場合は、この構成をテストして、展開する前にシステムパフォーマンスへの影響を与える可能性があることを確認してください。

**重要** パッケージの依存関係は、プライマリアプリケーションに対して必須として指定できます。 セカンダリパッケージが必須としてマークされ、読み込み中に何らかの理由でアクセスできない場合、セカンダリパッケージの読み込みは失敗します。 また、プライマリアプリケーションは、ユーザーがアプリを起動しようとしたときに失敗します。

 

次の手順を使用して、プラグインまたはミドルウェアコンポーネント用にセカンダリパッケージを作成することができます。その後、最後の手順を使用して、セカンダリパッケージの OSD ファイルで依存関係を定義できます。

**動的スイートコンポジションを使用してプラグインのセカンダリパッケージを作成するには**

1.  クリーンイメージで設定されているシーケンスコンピューターでは、Application Virtualization Sequencer をインストールして、コンピューターの状態を保存します。

2.  プライマリアプリケーションをシーケンスし、サーバーのコンテンツフォルダーにパッケージを保存します。

3.  優先順位のコンピューターを手順1の保存された状態に復元します。

4.  優先順位のコンピューターで、プライマリアプリケーションをローカルにインストールして構成します。

    **重要** セカンダリパッケージ用の新しいパッケージルートを指定する必要があります。

     

5.  Sequencer 監視フェーズを開始します。

6.  シーケンスコンピューターにプラグインをインストールし、必要に応じて構成します。

7.  プライマリアプリケーションを開き、プラグインが正常に動作していることを確認します。

8.  Sequencer コンソールで、プラグインを含むセカンダリパッケージを表すダミーアプリケーションを作成し、アイコンを選択します。

9.  パッケージをサーバーのコンテンツフォルダーに保存します。

    **注** セカンダリパッケージを管理するには、パッケージ名に "セカンダリパッケージ" という用語を含めることをお勧めします。これは、 **\ [プラグイン名 \] セカンダリパッケージ**など、スタンドアロンアプリケーションとしては機能しないパッケージであることを強調することをお勧めします。

     

**動的スイートコンポジションを使用してミドルウェア用のセカンダリパッケージを作成するには**

1.  クリーンイメージで設定されているシーケンスコンピューターでは、Application Virtualization Sequencer をインストールして、コンピューターの状態を保存します。

2.  優先順位のコンピューターに、ミドルウェアをローカルにインストールして構成します。

3.  プライマリアプリケーションをシーケンスし、サーバーのコンテンツフォルダーにパッケージを保存します。

4.  優先順位のコンピューターを手順1の保存された状態に復元します。

5.  Sequencer を起動して新しいパッケージを作成します。

6.  Sequencer 監視フェーズを開始します。

7.  優先順位のコンピューターにミドルウェアアプリケーションをインストールして、標準インストールの場合と同様に構成します。

8.  シーケンス処理を完了します。

9.  パッケージをサーバーのコンテンツフォルダーに保存します。

    **注** セカンダリパッケージの管理に役立てるために、パッケージ名に "セカンダリパッケージ" という用語を含めることをお勧めします。これは、スタンドアロンアプリケーションとして機能しないパッケージ ( **\ [ミドルウェア名 \] セカンダリパッケージ**など) であることを強調することをお勧めします。

     

**プライマリパッケージの依存関係を定義するには**

1. サーバーで、編集するセカンダリパッケージの OSD ファイルを開きます。 (OSD ファイルに変更を加える場合は、XML エディターを使うことをお勧めします。ただし、メモ帳を代替として使用することをお勧めします)。

2. そのファイルから**コードベース HREF**をコピーします。

3. 編集するプライマリパッケージの OSD ファイルを開きます。

4. <strong> &lt; &gt; </strong> ** &lt; /ENVLIST &gt; **タグの終わりの後に、 ** &lt; /virtualenv &gt; **タグの直前に** &lt; &gt; **ある [依存関係] タグを挿入します。

5. 作成した** &lt; 依存性 &gt; **タグの後に、セカンダリパッケージから**コードベース HREF**を貼り付けます。

6. セカンダリパッケージが、プライマリパッケージを開始する前に開始する必要があることを意味する必須パッケージである場合は、 **CODEBASE**タグ内に**必須の "TRUE"** プロパティを追加します。 必須でない場合は、プロパティを省略できます。

7. 次の内容を挿入して、 ** &lt; 依存性 &gt; **タグを閉じます。

   **&lt;/依存関係&gt;**

8. OSD ファイルに加えた変更を確認してから、ファイルを保存して閉じます。 次の例は、追加されたセクションを表示する方法を示しています。 ここに示すタグ値は、たとえば、次のようになります。

   **&lt;VIRTUALENV&gt;**

        **&lt;ENVLIST&gt;**

   **…**

        **&lt;/ENVLIST&gt;**

        **&lt;DEPENDENCIES&gt;**

             **&lt;CODEBASE HREF="rtsp://virt\_apps/package.1/package.1.sft" GUID="D54C80FA-9DFF-459D-AA33-DD852C9FBFBA" SYSGUARDFILE="package.1\\osguard.cp"/&gt;**

             **&lt;CODEBASE HREF="rtsp://sample\_apps/package.2/sample.sft" GUID="D54C80FA-9DFF-459D-AA33-DD852C9FBFBA" SYSGUARDFILE="package.2\\osguard.cp" MANDATORY="TRUE" /&gt;**

        **&lt;/DEPENDENCIES&gt;**

   **&lt;/仮想 env&gt;**

9. セカンダリパッケージの OSD ファイルの** &lt; ENVLIST &gt; **セクションにエントリがある場合は、それらのエントリをプライマリパッケージの同じセクションにコピーする必要があります。

## 関連トピック


[App-v Sequencer を使用して仮想アプリケーションを作成またはアップグレードする方法](how-to-create-or-upgrade-virtual-applications-using--the-app-v-sequencer.md)

 

 





